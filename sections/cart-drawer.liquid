<div class="fixed z-50 inset-0 group pointer-events-none open:pointer-events-auto" data-id="{{- section.id -}}" data-component="cartDrawer">
  <button type="button" data-toggle class="absolute inset-0 bg-black opacity-0 group-open:opacity-20 transition-opacity duration-500 w-full h-full"></button>
  <form action="/cart" method="post" class="absolute bg-white top-0 right-0 h-full w-full md:w-96 flex flex-col transform translate-x-full transition-transform duration-500 group-open:translate-x-0">

    <div class="flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200">
      <p class="text-lg font-semibold">Cart ({{- cart.item_count -}})</p>
      <button type="button" data-toggle>Close</button>
    </div>

    <ul class="overflow-auto flex-1">
      {%- for item in cart.items -%}
        <li class="relative flex items-center px-4 py-4 border-b border-gray-200" data-key="{{- item.key -}}" data-component="cartItem">
          {% render 'component.picture', img: item.image, max_width: 240, class: "w-20 mr-4", lazy: false %}
          <div class="flex flex-1">
            <div>
              <p class="text-base font-semibold">{{- item.product.title -}}</p>
              <p class="text-sm text-gray-400">{{- item.variant.title -}}</p>
              <div class="flex items-center relative z-20 mt-2">
                <button data-update data-value="{{- item.quantity | minus: 1 -}}" type="button" class="border border-gray-200 w-6 h-6 align-middle text-center border-r-0 hover:opacity-60">-</button>
                <button type="button" class="border border-gray-200 w-auto h-6 align-middle text-center px-2">{{- item.quantity -}}</button>
                <button data-update data-value="{{- item.quantity | plus: 1 -}}" type="button" class="border border-gray-200 w-6 h-6 align-middle text-center border-l-0 hover:opacity-60">+</button>
              </div>
            </div>
            <div class="ml-auto text-right flex flex-col">
              {%- render 'component.price', price: item.final_line_price, compare_at: item.original_line_price -%}
              <button type="button" class="text-xs mt-auto font-semibold relative z-20" data-update data-value="0">Remove</button>
            </div>
          </div>
          <a href="{{- item.url -}}" class="absolute inset-0 z-10"></a>
        </li>
      {%- endfor -%}
    </ul>

    <div class="p-6">
      <button type="submit" name="checkout" class="bg-indigo-600 w-full px-6 py-4 rounded text-white font-semibold hover:bg-indigo-800 transition-colors duration-300">{{- 'cart.general.checkout' | t -}}</button>
    </div>
  </form>
</div>

{% schema %}
  {
    "name": "Cart drawer",
    "settings": []
  }
{% endschema %}
